---
layout: post
title: 'Quick tip: Enabling data binding'
date: '2016-07-15T16:24:00.001+10:00'
author: Zarah Dominguez
tags:
- data binding
- quick tips
- android
modified_time: '2016-07-15T16:31:14.075+10:00'
blogger_id: tag:blogger.com,1999:blog-8588450866181483028.post-2979748123228591878
blogger_orig_url: http://www.zdominguez.com/2016/07/quick-tip-enabling-data-binding.html
---

Say you have a simple layout file: <br /><pre class="brush:xml">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br />                  android:layout_width="match_parent"<br />                  android:layout_height="match_parent"<br />                  android:orientation="vertical"&gt;<br /><br />        &lt;TextView<br />            android:id="@+id/title"<br />            android:layout_width="match_parent"<br />            android:layout_height="wrap_content" /&gt;<br /><br />        &lt;TextView<br />            android:id="@+id/description"<br />            android:layout_width="match_parent"<br />            android:layout_height="wrap_content" /&gt;<br /><br />&lt;/LinearLayout&gt;<br /></pre>And say you want to finally give data binding a try. So you watch <a href="https://youtu.be/DAmMN7m3wLU" target="_blank">Yigit's I/O talk on data binding</a> and <a href="https://youtu.be/DAmMN7m3wLU?t=28m57s" target="_blank">follow the steps on implementation</a>.<br /><br />You enable it in Gradle: <br /><pre class="brush:java">android {<br />    dataBinding {<br />        enabled = true<br />    }<br />}<br /></pre><br />You wrap your existing layout in <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">&lt;layout&gt;</span> tags. <br /><pre class="brush:xml">&lt;layout&gt;<br />      &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br />                  android:layout_width="match_parent"<br />                  android:layout_height="match_parent"<br />                  android:orientation="vertical"&gt;<br /><br />        ...<br /><br />      &lt;/LinearLayout&gt;<br />&lt;layout&gt;<br /></pre><br />Then life started sucking. Your app won't compile. Well, we can fix it in two easy steps!<br /><br /><b>Step 1:</b> Add namespace declaration to your root tag:<br /><pre class="brush:xml">&lt;layout xmlns:android="http://schemas.android.com/apk/res/android"&gt;</pre><br />This still won't compile! If you look at the logs you will see somewhere there: <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">"Error:(7) Error parsing XML: duplicate attribute" </span><br /><br /><b>Step 2:</b> Remove <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">xmlns</span> declaration in the now-non-root layout. <br /><br />And that's it. Add your variables and happy data binding! <br /><br /><br />Here's a complete layout file for your perusal:<br /><pre class="brush:xml; collapse: true">&lt;layout xmlns:android="http://schemas.android.com/apk/res/android"&gt;<br />      &lt;data&gt;<br />        &lt;variable<br />            name="listing"<br />            type="com.zdominguez.blog.samples.Listing"/&gt;<br />    &lt;/data&gt;<br /><br />      &lt;LinearLayout <br />                  android:layout_width="match_parent"<br />                  android:layout_height="match_parent"<br />                  android:orientation="vertical"&gt;<br /><br />        &lt;TextView<br />            android:id="@+id/title"<br />            android:layout_width="match_parent"<br />            android:layout_height="wrap_content"<br />            android:text="@{listing.address}" /&gt;<br /><br />        &lt;TextView<br />            android:id="@+id/description"<br />            android:layout_width="match_parent"<br />            android:layout_height="wrap_content" <br />            android:text="@{listing.agency}" /&gt;<br /><br />      &lt;/LinearLayout&gt;<br />&lt;layout&gt;<br /></pre><br /><br />