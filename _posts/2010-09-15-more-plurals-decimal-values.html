---
layout: post
title: 'More plurals: decimal values'
date: '2010-09-15T14:45:00.012+10:00'
author: Zarah Dominguez
tags:
- plurals
- strings
- android
- decimal
modified_time: '2010-10-26T20:11:25.005+11:00'
thumbnail: http://4.bp.blogspot.com/_p3DeelS9Gp8/TJBWSMg5XkI/AAAAAAAAA28/JHLcPbv0wQQ/s72-c/plurals_decimal_less1.png
blogger_id: tag:blogger.com,1999:blog-8588450866181483028.post-8977124023305288553
blogger_orig_url: http://www.zdominguez.com/2010/09/more-plurals-decimal-values.html
---

<div style="text-align: left;">In my <a href="http://droidista.blogspot.com/2010/09/string-pluralization.html">previous post</a>, I showed you how to set string plurals.  If you noticed, the methods to get the plurals strings only accept <code>int</code>s. What if (like me) you want to display a decimal value? I am getting my raw value from a progress bar with a range of 1-10, with 0.1 increments.</div><br />First, to display decimal values, I set my plurals string to display a float value.<br /><pre class="brush:xml">&lt;item quantity="other"&gt;Progress is at %.1f units.&lt;/item&gt;</pre><br />And then I devised a way to set the quantity based on the value of the progress bar (<code>ProgressBar.getProgress()</code> returns an <code>int</code>).<pre class="brush:java"><br />public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {<br /><br />    // get quantity for plurals string<br />    int quantity = setQuantity(progress);<br /><br />    // convert the actual progress to float<br />    float floatProgress = convertProgress(progress);<br /><br />    // get the actual string and replace formatting with the float value<br />    String currentProgress = getResources()<br />         .getQuantityString(R.plurals.seekBarProgress, // get the plurals<br />         quantity, // set the quantity<br />         floatProgress); // format arguments<br /><br />    // set text to display<br />    TextView displayProgress = (TextView)findViewById(R.id.prog_text);<br />    displayProgress.setText(currentProgress);<br /><br />}<br /><br />/**<br />* Use this method to see if we will use the singular or plural string.<br />*<br />* @param progress<br />* @return the value to set in getQuantityString()<br />*/<br />private int setQuantity(int progress){<br />   int quantity;<br /><br />   if (((progress%10) == 0) &amp;&amp; ((progress/10) == 1)){<br />       quantity = 1;<br />   } else {<br />       quantity = 2;<br />   }<br /><br />   return quantity;<br />}<br /><br />/**<br />* Use this value to get the *actual* value to display.<br />*<br />* @param progress actual progress value from 0 to 100<br />* @return the float value from 0.0 to 10.0<br />*/<br />private Float convertProgress(int progress){<br />   return ((Float.valueOf(String.valueOf(progress)))/(float)10);<br />}<br /></pre>So you see, it's quite long-winded. Here are some screen shots of the results:<br /><div style="text-align: center;"><img src="http://4.bp.blogspot.com/_p3DeelS9Gp8/TJBWSMg5XkI/AAAAAAAAA28/JHLcPbv0wQQ/s320/plurals_decimal_less1.png" style="cursor:pointer; cursor:hand;width: 214px; height: 320px;" border="0" alt="" id="BLOGGER_PHOTO_ID_5517004414125694530" /> <img src="http://2.bp.blogspot.com/_p3DeelS9Gp8/TJBWR4FQZjI/AAAAAAAAA20/LWlDCWAVfEk/s320/plurals_decimal_1.png" style="cursor:pointer; cursor:hand;width: 214px; height: 320px;" border="0" alt="" id="BLOGGER_PHOTO_ID_5517004408641054258" /> <a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_p3DeelS9Gp8/TJBWSZX6GaI/AAAAAAAAA3E/prxdkDjhaEk/s1600/plurals_decimal_more1.png"><img style="cursor:pointer; cursor:hand;width: 214px; height: 320px;" src="http://2.bp.blogspot.com/_p3DeelS9Gp8/TJBWSZX6GaI/AAAAAAAAA3E/prxdkDjhaEk/s320/plurals_decimal_more1.png" border="0" alt="" id="BLOGGER_PHOTO_ID_5517004417577654690" /></a></div><div style="text-align: center;">Different values for the unit value</div>