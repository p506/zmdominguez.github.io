---
layout: post
title: ":facepalm:"
date: '2017-02-16T13:45:00.001+11:00'
author: Zarah Dominguez
tags:
- quick tips
- android
modified_time: '2017-02-16T13:55:05.275+11:00'
thumbnail: https://4.bp.blogspot.com/-LEFA_OpVxfE/WKUO7G1u-SI/AAAAAAAA6p4/CHLtt8Yd83gpPaO8sAQyzOTMM2LLQSazQCLcB/s72-c/Screen%2BShot%2B2017-02-16%2Bat%2B12.54.33.png
blogger_id: tag:blogger.com,1999:blog-8588450866181483028.post-3863095032105418677
blogger_orig_url: http://www.zdominguez.com/2017/02/facepalm.html
---

I just spent an hour debugging an issue that should have been a non-issue at all.<br /><br />A thing about working on a huge product like Domain with such a small team is that there are some bits that tend to get left behind. Lately I have been playing with a bunch of libraries to find out how the modern ones do image pan and zoom. This is important for us because those crazy expensive houses have pretty high-res photos.<br /><br />Look at this!<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://rimh2.domain.com.au/5pjPFc__qQEbPU029VBKG1glNpI=/fit-in/1600x1200/filters:format(jpeg)/2013355609_1_0_170130_112519-w4134-h2756" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="213" src="https://rimh2.domain.com.au/5pjPFc__qQEbPU029VBKG1glNpI=/fit-in/1600x1200/filters:format(jpeg)/2013355609_1_0_170130_112519-w4134-h2756" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Click to embiggen</td></tr></tbody></table>One of the libraries I was looking at was <a href="https://github.com/davemorrissey/subsampling-scale-image-view">Subsampling Scale Image View</a>. I have heard good things about it, but was too lazy to figure it out. Today will be the day, I said. Today I will stop being lazy and figure it out.<br /><br />After about an hour of furious Googling, I ended up finding a bunch of code that I managed to cobble together that <i>theoretically</i> should work. Maybe at this point I should mention that images and graphics are not my strong suit. There's too much stuff going on and my I can't wrap my head around it.<br /><br />Anyway, I need to get the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">Bitmap</span> from a file downloaded by Glide. Someone on the internet said this should work:<br /><pre class="brush:java">BitmapFactory.Options opts = new BitmapFactory.Options();<br />opts.inJustDecodeBounds = true;<br />Bitmap bitmap = BitmapFactory.decodeFile(downloadedFile.getAbsolutePath(), opts);</pre><br /><br />I fired up my app and nothing is loading. All the pages in the whole of my image gallery are empty. Maybe I'm using the library wrong? Maybe this is not how I should apply <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">BitmapRegionDecoder</span>? Maybe it's not actually downloading the file?<br /><br />I ended putting breakpoints all over the place:<br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-LEFA_OpVxfE/WKUO7G1u-SI/AAAAAAAA6p4/CHLtt8Yd83gpPaO8sAQyzOTMM2LLQSazQCLcB/s1600/Screen%2BShot%2B2017-02-16%2Bat%2B12.54.33.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="https://4.bp.blogspot.com/-LEFA_OpVxfE/WKUO7G1u-SI/AAAAAAAA6p4/CHLtt8Yd83gpPaO8sAQyzOTMM2LLQSazQCLcB/s320/Screen%2BShot%2B2017-02-16%2Bat%2B12.54.33.png" width="230" /></a></div><br />And it's still not working. It's not crashing.. so at least I got that going for me.<br /><br />I was getting frustrated, so I was like, "What does <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">BitmapFactory.decodeFile</span>&nbsp;and the options do anyway??" I looked for the <a href="https://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inJustDecodeBounds">JavaDoc</a>.<br /><div class="api apilevel-1" style="background-color: white; color: rgba(0, 0, 0, 0.682353); font-family: Roboto, sans-serif; font-size: 14px; padding: 10px;"><h3 class="api-name" style="color: rgba(0, 0, 0, 0.870588); font-size: 24px; font-weight: 400; line-height: 32px; margin: 10px 0px 12px; padding: 0px;">inJustDecodeBounds</h3><pre class="api-signature no-pretty-print" style="-webkit-font-smoothing: subpixel-antialiased; background: transparent; border: 0px; color: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Monaco, Courier, monospace; font-size: 13px; font-stretch: normal; line-height: 18px; margin-bottom: 1em; margin-top: 1em; overflow: auto; padding: 0px;">boolean inJustDecodeBounds</pre><div style="margin-bottom: 12px;">If set to true, <b><i>the decoder will return null (no bitmap)</i></b>, but the out... fields will still be set, allowing the caller to query the bitmap without having to allocate the memory for its pixels.</div></div><a href="https://www.blogger.com/null" name="inMutable" style="background-color: white; color: #039be5; display: block; font-family: Roboto, sans-serif; font-size: 14px; position: relative; top: -72px; visibility: hidden;"></a><br /><div class="api apilevel-11" style="background-color: white; color: rgba(0, 0, 0, 0.682353); font-family: Roboto, sans-serif; font-size: 14px;"></div>Ah. FML.<br /><br />What have we learned today? Read the docs, kids.<br /><br /><br />