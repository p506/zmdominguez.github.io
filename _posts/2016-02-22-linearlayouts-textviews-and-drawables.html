---
layout: post
title: LinearLayouts, TextViews and Drawables
date: '2016-02-22T18:21:00.003+11:00'
author: Zarah Dominguez
tags:
- android
- layout
modified_time: '2016-02-22T22:05:25.003+11:00'
thumbnail: https://3.bp.blogspot.com/-P6ZP6ilNZrU/VsquL6hzm9I/AAAAAAAAJTU/MSmwDetg27A/s72-c/hammerheadMMB29Qzarah.dominguez02222016174304.png
blogger_id: tag:blogger.com,1999:blog-8588450866181483028.post-7829682970772302568
blogger_orig_url: http://www.zdominguez.com/2016/02/linearlayouts-textviews-and-drawables.html
---

I sent out a series of tweets today about <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span>s and unexpectedly, quite a few people like them. I decided to get off my lazy ass and actually write it down in a post for easy reference.<br /><br />Let's start with the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span> root view. &nbsp;One of the most common things designers ask us to do is to put dividers in. Quick! Think! What should we do? Add a generic <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">View</span> for each divider? How about NO? Instead, we can delegate the task of displaying these dividers to the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span> itself:<br /><pre class="brush:xml; highlight: [6, 7]">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br />              android:layout_width="match_parent"<br />              android:orientation="vertical"<br />              android:layout_height="match_parent"<br />              android:divider="@drawable/divider_horizontal_dark"<br />              android:showDividers="middle"&gt;<br /></pre><br />Where <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">divider_horizontal_dark</span> can be anything you want to be the divider (I recommend using a <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">shape</span>):<br /><br /><pre class="brush:xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />&lt;shape xmlns:android="http://schemas.android.com/apk/res/android"<br />       android:shape="rectangle" &gt;<br />    &lt;solid android:color="#24000000" /&gt;<br />    &lt;size android:height="1dp" /&gt;<br />&lt;/shape&gt;<br /></pre><br />Doing this prevents us from littering our view hierarchy with useless empty views.&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span>&nbsp;is actually extremely powerful, and a lot of the stuff most apps usually need is already built in.&nbsp;PS: For some reason I cannot find the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">showDividers</span> attribute in the Android docs, but the available attributes are <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">middle</span>, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">beginning</span>, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">end<span style="font-family: &quot;times&quot;; font-size: small;">,&nbsp;</span>none</span> (or a combination of those). <b>EDIT</b>:&nbsp;<a class="g-profile" href="https://plus.google.com/118292708268361843293" target="_blank">+Nick Butcher</a>&nbsp;showed us the light: <a href="https://developer.android.com/intl/es/reference/android/R.attr.html#showDividers" target="_blank">docs here</a>!<br /><br /><b>EDIT AGAIN</b>: Nick has also lovingly pointed out that&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">setShowDividers()&nbsp;</span>was added in API 11. If by some cruel twist of fate you need to support anything below that, use&nbsp;<a href="https://developer.android.com/intl/es/reference/android/support/v7/widget/LinearLayoutCompat.html#setShowDividers(int)" target="_blank"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">LinearLayoutCompat</span></a>. Also, you poor, poor thing.<br /><br />Another common thing that we are asked to do is to have an image&nbsp;+ &nbsp;text displayed side by side. We use this quite a bit in the Domain app, most notably in the main navigation drawer:<br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-P6ZP6ilNZrU/VsquL6hzm9I/AAAAAAAAJTU/MSmwDetg27A/s1600/hammerheadMMB29Qzarah.dominguez02222016174304.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="https://3.bp.blogspot.com/-P6ZP6ilNZrU/VsquL6hzm9I/AAAAAAAAJTU/MSmwDetg27A/s320/hammerheadMMB29Qzarah.dominguez02222016174304.png" width="180" /></a></div><br />Instead of having one huge <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">RelativeLayout</span> or (horror!) nested <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span>s, we can just have a bunch of <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">TextView</span>s in one <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span>.<br /><br />You see, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">TextView</span>s have this magical ability to add <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">Drawable</span>s to themselves. You can position the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">Drawable</span> anywhere you want, and even tint it from XML! :gasp:<br /><br />Drawable placement can be in any of the <a href="http://developer.android.com/intl/es/reference/android/widget/TextView.html#attr_android:drawableBottom" target="_blank">cardinal directions</a>&nbsp;(<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">bottom</span>, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">top</span>, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">left</span>, <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">right</span>) and the tint should be a defined colour in XML (not actually required, but encouraged. By me. I encourage it.). If the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">Drawable</span> is too close to the text for your or your designer's taste, you can adjust the distance via the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">drawablePadding</span> attribute.<br /><br />So here's a screen of four <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">TextView</span>s in one <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">LinearLayout</span>:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-vSmDgK2T03k/VsqtnOhWv5I/AAAAAAAAJTA/D8Sw8AUlZdU/s1600/hammerheadMMB29Qzarah.dominguez02222016173932.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="https://3.bp.blogspot.com/-vSmDgK2T03k/VsqtnOhWv5I/AAAAAAAAJTA/D8Sw8AUlZdU/s320/hammerheadMMB29Qzarah.dominguez02222016173932.png" width="180" /></a></div><br /><br />And the full code (also in <a href="https://github.com/zmdominguez/sdk_sandbox/blob/master/app/src/main/res/layout/activity_linear_layout.xml" target="_blank">github</a>):<br /><pre class="brush:xml; collapse:true">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br />              android:layout_width="match_parent"<br />              android:orientation="vertical"<br />              android:layout_height="match_parent"<br />              android:divider="@drawable/divider_horizontal_dark"<br />              android:showDividers="middle"&gt;<br /><br />    &lt;TextView<br />        android:id="@+id/text1"<br />        android:drawableTop="@drawable/ic_notifications_black_24dp"<br />        android:drawableTint="@color/lemongrab"<br />        android:drawablePadding="8dp"<br />        android:layout_width="match_parent"<br />        android:layout_height="wrap_content"<br />        android:textSize="20sp"<br />        android:padding="16dp"<br />        android:text="Text 1"/&gt;<br /><br />    &lt;TextView<br />        android:id="@+id/text2"<br />        android:textSize="20sp"<br />        android:drawableRight="@drawable/ic_notifications_black_24dp"<br />        android:drawablePadding="8dp"<br />        android:padding="16dp"<br />        android:layout_width="match_parent"<br />        android:layout_height="wrap_content"<br />        android:text="Text 2"/&gt;<br /><br />    &lt;TextView<br />        android:id="@+id/text3"<br />        android:layout_width="match_parent"<br />        android:layout_height="wrap_content"<br />        android:drawableLeft="@drawable/ic_notifications_black_24dp"<br />        android:drawablePadding="8dp"<br />        android:padding="16dp"<br />        android:text="Text 3"<br />        android:textSize="20sp"/&gt;<br /><br /><br />    &lt;TextView<br />        android:id="@+id/text4"<br />        android:layout_width="match_parent"<br />        android:layout_height="wrap_content"<br />        android:drawableLeft="@drawable/ic_notifications_black_24dp"<br />        android:drawablePadding="8dp"<br />        android:padding="16dp"<br />        android:text="Text 4"<br />        android:textSize="20sp" /&gt;<br /><br /><br />&lt;/LinearLayout&gt;<br /></pre><br />If you need to update the <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">Drawable</span> tint at runtime (if you are basing it on some status field, for example), you can do so via code:<br /><br /><pre class="brush:java">// left, top, right, and bottom<br />DrawableCompat.setTint(mText3.getCompoundDrawables()[0].mutate(), ContextCompat.getColor(this, R.color.red));<br /></pre><br />Note that we need to call <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: small;">mutate()</span> or else the tint will be everywhere and it's gonna be a mess!<br /><br />So there you have it! Remember kids, #perfmatters!<br /><br />